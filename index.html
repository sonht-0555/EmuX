<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
<title>EmuX</title>
<link rel="manifest" href="/manifest.json"/>
<script type="" src="src/js/main.js"></script>
<script type="" src="src/js/audio.js"></script>
<script type="" src="src/js/video.js"></script>
<script type="" src="src/js/gamepad.js"></script>
<script type="" src="src/js/loader.js"></script>
<script>
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js'));
    navigator.serviceWorker.addEventListener('message', function (event) {
        if (event.data.msg === "Updating...") {
            document.getElementById("mess").innerText = "Updating...";
        }
    })
}
</script>
<style>
html, body { height: 100%; margin: 0; padding: 0; overflow: hidden; font-family: monospace;}
body { background:#000; color:#fff; text-align:center }
canvas { image-rendering: pixelated; }
</style>
</head>
<body>
<h3 id="mess">EmuX 1.66</h3>
<canvas id="screen" width="256" height="224"></canvas><br><br>
<!-- Virtual Gamepad Controls -->
<div id="gamepad" style="display: flex; justify-content: center; gap: 40px; margin-bottom: 20px;">
	<div id="dpad" style="display: flex; flex-direction: column; align-items: center; gap:5px">
		<button class="btn-control" data-btn="up" style="width:40px;height:40px;">▲</button>
		<div style="display: flex; gap:5px">
			<button class="btn-control" data-btn="left" style="width:40px;height:40px;">◀</button>
			<button class="btn-control" data-btn="down" style="width:40px;height:40px;">▼</button>
			<button class="btn-control" data-btn="right" style="width:40px;height:40px;">▶</button>
		</div>
	</div>
    <div style="display: flex; gap:5px; flex-direction: column;">
        <div style="display: flex; align-items: center; gap: 5px;">
            <button class="btn-control" data-btn="l" style="flex:1;height:40px;">L</button>
            <button class="btn-control" data-btn="r" style="flex:1;height:40px;">R</button>
        </div>
        <div style="display: flex; align-items: center; gap: 5px;">
            <button class="btn-control" data-btn="a" style="width:40px;height:40px;">A</button>
            <button class="btn-control" data-btn="b" style="width:40px;height:40px;">B</button>
            <button class="btn-control" data-btn="y" style="width:40px;height:40px;">Y</button>
            <button class="btn-control" data-btn="x" style="width:40px;height:40px;">X</button>
        </div>
        <div style="display: flex; align-items: center; gap: 5px;">
            <button class="btn-control" data-btn="select" style="width:40px;height:40px;">-</button>
            <button class="btn-control" data-btn="start" style="width:40px;height:40px;">▶</button>
            <button id="resume" style="width:40px;height:40px;">?</button>
            <input type="file" id="rom" style="width:40px;height:40px; opacity: 0;" accept="">
        </div>
    </div>
</div>
</body>
</html>