function input_poll_cb(){}var gamepadState=new Uint8Array(16),gamepadMask=0,buttonMap={up:4,down:5,left:6,right:7,1:8,3:0,2:9,4:1,l:10,r:11,start:3,select:2};function buttonPress(t){const n=buttonMap[t];void 0!==n&&""!==n&&(gamepadState[n]=1,gamepadMask|=1<<n),audioContext&&"running"!==audioContext.state&&audioContext.resume()}function buttonUnpress(t){const n=buttonMap[t];if(void 0!==n&&""!==n){gamepadState[n]=0,gamepadMask=0;for(let t=0;t<16;t++)gamepadState[t]&&(gamepadMask|=1<<t)}}function input_state_cb(t,n,e,a){if(t)return 0;if(1===n)return 256===a?gamepadMask:gamepadState[a];if(6===n){if(0===a)return window._pX;if(1===a)return window._pY;if(2===a)return window._pD}return 0}function updateButtons(t){if(!t)return;["btn-1","btn-2","btn-3","btn-4","btn-l","btn-r","btn-select","btn-start"].forEach(n=>{const e=document.querySelector(n);if(!e)return;const a=t[n];if(a){if(e.style.display="grid",e.innerText=a[0],void 0!==a[1]){const t=n.replace("btn-","");buttonMap[t]=a[1]}}else e.style.display="none"});["sec-12","sec-34"].forEach(t=>{const n=document.querySelector(t);if(!n)return;const e=Array.from(n.children).some(t=>"none"!==t.style.display);n.style.display=e?"grid":"none"})}window._pX=0,window._pY=0,window._pD=0;