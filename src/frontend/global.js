let gameName,gameType,gameWidth,gameHeight,integer,timerId;tag("html"),tag("body"),tag("page00"),tag("page01"),tag("page02"),tag("logo"),tag("page02"),tag("notification"),tag("display"),tag("list"),tag("list01"),tag("list02"),tag("name"),tag("ver"),tag("gamepad"),tag("title1"),tag("vertical"),tag("screen"),tag("invis"),tag("joypad"),tag("green0"),tag("white0"),tag("gray0"),tag("message0"),tag("skip1"),tag("switch0");let swipe,canvasB,count=null,canSync=!0,recCount=1,isStart=!1,hours=0,minutes=0,seconds=0,count1=0,current=parseInt(local("vertical"))||0;const canvas=document.getElementById("canvas");function tag(e){return window[e]=document.querySelector(e),window[e]}function local(e,t){return arguments.length<2||null===t?localStorage.getItem(e):localStorage.setItem(e,t)}function doubleTap(e,t,n){const a=Date.now(),i=a-(t._lastTapTime||0),o=e.isPrimary&&i<300&&i>40;let l=!0;if(n){const n=e.clientX-t._lastTapX,a=e.clientY-t._lastTapY;l=Math.hypot(n,a)<30}const s=o&&l;return t._lastTapTime=a,t._lastTapX=e.clientX,t._lastTapY=e.clientY,s}function svgGen(e,t,n){const a=e*t;let i;i="number"==typeof n?Array.from({length:n*n},(e,t)=>t%(n+1)?0:1):n.replace(/\s/g,"").split(".");const o=Math.sqrt(i.length);let l=`<svg xmlns='http://www.w3.org/2000/svg' width='${a}' height='${a}'>`;for(let e=0;e<a*a;e++){if(1==i[(e/a%t*o/t|0)*o+(e%a%t*o/t|0)]){l+=`<rect x="${e%a}" y="${e/a|0}" width="1" height="1"/>`}}return`url("data:image/svg+xml,${encodeURIComponent(l+"</svg>")}")`}async function delay(e){return new Promise(t=>setTimeout(t,e))}async function notifi(e,t,n,a,i){if(page00.hidden=!1,green0.textContent=e,white0.textContent=t,gray0.textContent=n,message0.textContent=a,i)for(window._loadDelay=400;window._loadDelay>0;)await delay(100),window._loadDelay-=100}async function message(e,t=2e3){count&&(count.cancelled=!0);const n={cancelled:!1};count=n,title1.textContent=e,await delay(t),n.cancelled||count!==n||(title1.textContent=gameName,count=null)}async function gameView(e){page02.ontouchstart=e=>e.preventDefault(),gameWidth=canvas.width,gameHeight=canvas.height,title1.textContent=e,switch0.textContent=local("render");const t=Math.floor(window.innerWidth*window.devicePixelRatio/gameWidth);integer=t>6?t-t%2:t;const n=integer/window.devicePixelRatio;display.style.height=`${Math.ceil(gameHeight*n)+10}px`,display.style.width=`${Math.ceil(gameWidth*n)}px`,screen.style.width=`${Math.ceil(gameWidth*n)}px`,screen.style.setProperty("--size",`${integer}px`),screen.style.setProperty("--width",gameWidth*integer+"px"),screen.style.setProperty("--height",gameHeight*integer+"px"),screen.style.setProperty("--scale",n/integer);const a=Math.round((window.innerWidth-36)/8),i=a%2==0?a-1:a;gamepad.style.gridTemplateColumns=`${i}px 1px ${i}px 1px ${i}px 1px ${i}px 1px auto 1px ${i}px 1px ${i}px 1px ${i}px 1px ${i}px`,page02.style.gridTemplateRows=`auto ${window.innerWidth-(8*i+30)}px ${4*i+38}px ${window.innerWidth-(8*i+20)}px 1fr 20px`,joy.style.width=4*i+3+"px",page00.hidden=!0,page01.hidden=!0,list01.hidden=!0,list02.hidden=!0,switch0.hidden=!0,page02.hidden=!1,list.hidden=!1;const o=integer<=4||integer%2!=0?integer:integer/2,l=local(`shader0${local("shader")}`)||o;screen.style.setProperty("--shader",svgGen(integer/o,o,l))}document.addEventListener("DOMContentLoaded",function(){body.removeAttribute("hide"),canvasB=document.getElementById("canvas-bottom"),body.style.setProperty("--background",svgGen(1,window.devicePixelRatio,window.devicePixelRatio))});